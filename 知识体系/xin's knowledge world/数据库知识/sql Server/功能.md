[[DB_TAG]] #db 

SQL Server:

1. CHARINDEX()

找到字符（char）的位置（index）
通过CHARINDEX如果能够找到对应的字符串，则返回该字符串位置，否则返回0。

CHARINDEX ( expressionToFind , expressionToSearch [ , start_location ] )

2. SUBSTRING()

substring('abdcsef',1,3)
-> 'abd'

3. CHARINDEX-> 每个中文，英文，标点符号都算1

4. datepart() 和 datename

Datepart()：返回代表指定日期的指定日期部分的整数
	语法：Datepart(datepart,date)  返回类型：int

DateName()：返回代表指定日期的指定日期部分的字符串
	语法：DateName(datepart,date) 返回类型：nvarchar


5. ISNULL()

isnull(value1,value2)

- value1与value2的数据类型必须一致。

- 如果value1的值不为null，结果返回value1。

- 如果value1为null，结果返回vaule2的值。vaule2是你设定的值。



6. function创建

create function [函数的所有者].函数名(标量参数 [as] 标量参数类型 [=默认值])
returns 标量返回值类型
[with {Encryption | Schemabinding }]
[as]
begin
    函数体(即 Transact-SQL 语句)
    return 变量/标量表达式
end


7. DATEPART()

DATEPART() 函数用于返回日期/时间的单独部分，比如年、月、日、小时、分钟等等

DATEPART(mm,OrderDate)
DATEPART(dd,OrderDate) AS OrderDay

周：wk，ww
星期：dw，w
日：dd，d


8. DATEDIFF()

DATEDIFF() 函数返回两个日期之间的时间。

DATEDIFF(datepart,startdate,enddate)

同4. DATEPART()

9. 隐藏字符
char(9) \t 水平制表符
char(10) \r 换行  --换行的意思，是回到行首，内容会被覆盖
char(13) \n 回车





